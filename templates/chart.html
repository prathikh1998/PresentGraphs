<!DOCTYPE html>
<html>
<head>
    <title>Chart Configuration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }

        h1 {
            text-align: center;
        }

        form {
            max-width: 400px;
            margin: 0 auto;
            background-color: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        label {
            display: block;
            margin-bottom: 10px;
        }

        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
        }

        input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
        }

        input[type="submit"] {
            background-color: #4caf50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        input[type="submit"]:hover {
            background-color: #45a049;
        }
    </style>
    <script>
        function updateIntervals() {
            var attributeSelect = document.getElementById('attribute');
            var form = document.getElementById('chartForm');

            var selectedAttribute = attributeSelect.value;

            // Remove latitude and longitude inputs if they exist
            var latitudeInput = document.getElementById('latitudeInput');
            var longitudeInput = document.getElementById('longitudeInput');
            if (latitudeInput) {
                form.removeChild(latitudeInput);
            }
            if (longitudeInput) {
                form.removeChild(longitudeInput);
            }

            if (selectedAttribute === 'population') {
                // Interval options for 'population' attribute
                var intervals = [
                    { label: '0-50000', value: '0-50000' },
                    { label: '50001-100000', value: '50001-100000' },
                    { label: '100001-150000', value: '100001-150000' },
                    { label: '150001-200000', value: '150001-200000' },
                    { label: '200001-250000', value: '200001-250000' },
                    { label: '> 250000', value: '250000' }
                ];
                form.action = '/generate_chart_population';
            } else if (selectedAttribute === 'City') {
                // Interval options for 'City' attribute
                var intervals = [
                    { label: 'New York', value: 'New York' },
                    { label: 'Chicago', value: 'Chicago' },
                    { label: 'Houston', value: 'Houston' },
                    { label: 'Springfield', value: 'Springfield'},
                    { label: 'Los Angeles', value: 'Los Angeles' },
                    { label: 'Philadelphia', value: 'Philadelphia' }
                ];
                form.action = '/generate_chart_city';
            } else if (selectedAttribute === 'state') {
                // Interval options for 'state' attribute
                var intervals = [
                    { label: 'Interval A', value: 'intervalA' },
                    { label: 'Interval B', value: 'intervalB' },
                    { label: 'Interval C', value: 'intervalC' }
                ];
                form.action = '/generate_chart_state';
            } else if (selectedAttribute === 'latlon') {
                form.action = '/generate_chart_latlon';
                // Display text inputs for latitude and longitude
                var latitudeInput = document.createElement('input');
                latitudeInput.type = 'text';
                latitudeInput.placeholder = 'Latitude';
                latitudeInput.name = 'latitude';
                latitudeInput.id = 'latitudeInput';
                form.appendChild(latitudeInput);

                var longitudeInput = document.createElement('input');
                longitudeInput.type = 'text';
                longitudeInput.placeholder = 'Longitude';
                longitudeInput.name = 'longitude';
                longitudeInput.id = 'longitudeInput';
                form.appendChild(longitudeInput);
            }
        }
    </script>
</head>
<body>
    <h1>Chart Configuration</h1>
    <form action="/generate_chart_latlon" method="post" id="chartForm">
        <label for="attribute">Attribute:</label>
        <select id="attribute" name="attribute" onchange="updateIntervals()">
            <option>Select</option>
            <option value="population">Population</option>
            <option value="City">City</option>
            <option value="state">State</option>
            <option value="latlon">Latitude & Longitude</option>
        </select>
        <br>
        <input type="submit" value="Generate Chart">
    </form>
</body>
</html>
